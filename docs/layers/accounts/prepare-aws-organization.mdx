---
title: "Preparing Your AWS Organization"
sidebar_label: "Prepare AWS Organization"
sidebar_position: 2
---
import Intro from '@site/src/components/Intro';
import KeyPoints from '@site/src/components/KeyPoints';
import Steps from '@site/src/components/Steps';
import Note from '@site/src/components/Note';

The Cold Start involves more manual steps than other layers. Read through the following steps and see [the detailed documentation](/layers/accounts/tutorials/manual-configuration/) for edge cases.

<Note title="First Time Using Atmos?">
This guide assumes familiarity with [Atmos](https://atmos.tools), our infrastructure orchestration tool. If you're new to Atmos:

1. Review [How to Use Atmos](/learn/maintenance/tutorials/how-to-use-atmos) for basic commands
2. Understand that Atmos uses YAML configuration files (called "stacks") to define infrastructure
3. You don't need to be an Atmos expert—you can learn as you go by following the deployment steps

The [Deploy Accounts guide](/layers/accounts/deploy-accounts/) includes configuration examples to help you understand what needs to be configured.
</Note>

In short, the steps are...

| Steps                     | Actions                             |
| ------------------------- | ----------------------------------- |
| Install requirements      |                                     |
| Build Geodesic            | `make all`                          |
| Vendor components         | `atmos workflow vendor -f quickstart/foundation/baseline` |
| Configure root SuperAdmin | Click Ops                           |

:::tip Cold Start

The set up process for the "baseline" or "account" layer is commonly referred to as the Cold Start.

:::


## Prerequisites

Follow the [prerequisites steps in the How-to Get Started guide](/layers/project/#0-prerequisites).

Start your Geodesic shell before continuing.

:::caution Before You Begin

**Before following this guide**, ensure you have:

✅ **Purchased Quickstart or Jumpstart** - This guide references stack configurations (`stacks/catalog/account.yaml`) that are only provided with our paid packages

✅ **Completed the kickoff call** - Your configurations will be customized to your design decisions

✅ **Set up your infrastructure repository** - See [Create Repository](/layers/project/create-repository)

**Looking for the configurations? [Start here](/intro/path)** - You'll get stuck at the "Check the configuration of the 'account' in the stack catalog" step because that file won't exist without them.

:::


## Before Running Terraform (ClickOps)

First, you'll need to perform some ClickOps to ensure things are set up before we use Terraform to manage AWS accounts.

From the root account:

<Steps>
1. ### Get Business Class Support
   Enable [business support](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_support.html) in
   the `root` account (in order to expedite requests to raise the AWS member account limits)
1. ### Set up MFA on Root Account
   Set up up the Virtual MFA device on the root account, following
   [the instructions in the AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html#enable-virt-mfa-for-root) for enabling a virtual MFA device for an AWS account root user. Save the MFA TOTP key in 1Password by using
   1Password's TOTP field and built-in screen scanner to scan the QR code presented on the web page.
1. ### Create the `SuperAdmin` IAM User
   [Create a `SuperAdmin` IAM User](/layers/accounts/tutorials/how-to-create-superadmin-user/). Do not enable "console
   login", do set up MFA, and then create a single Access key. Create an API Credential for the `SuperAdmin` credentials
   in 1Password and store the Access Key ID, Secret Access Key, Assigned MFA device ARN, and TOTP key. This is the user
   we will use until AWS Team Roles (`aws-team-roles` component) are provisioned.
1. ### Enable IAM Access for Billing
   For billing users, you need to enable IAM access. As the root user
   [open up the account settings for AWS Billing](https://us-east-1.console.aws.amazon.com/billing/home?region=us-east-1#/Account),
   then scroll to the section "IAM user and role access to Billing information" and enable it.
1. ### Enable Regions (Optional)
   The 17 original AWS regions are enabled by default. If you are using a region that is not enabled by default (such as Middle East/Bahrain), you need to take extra steps. For details, see [the detailed documentation](/layers/accounts/tutorials/manual-configuration/#optional-enable-regions)
1. ### Prepare for Account Quota Increase
   In order to deploy all accounts, you need to request an increase of the Account Quota from AWS support. This requires an AWS Organization to be created first, which we will create with Terraform in the [Deploy Accounts guide](/layers/accounts/deploy-accounts/#-prepare-account-deployment). **You can optionally create the Organization manually in the AWS Console first and then import it into Terraform, which allows you to submit the quota increase request earlier (see note below).** This request can take a few days to process, so it's important to get it started early so that it doesn't become a blocker.

   At this time we don't need to request the increase, but we should be prepared to do so as soon as the AWS Organization is created.

   :::tip Manual Creation Option

   Some teams prefer to create the Organization manually in the AWS Console first, then import it into Terraform afterward so it's fully managed as code. This approach allows you to submit the service quota request to increase the account limit right away, without needing to set up Terraform state and everything else first.

   To do this:
   1. Create the Organization manually in the AWS Console
   2. Submit the quota increase request immediately (can take several days)
   3. Set up Terraform/Atmos as described in the guides
   4. Import the existing Organization into Terraform when deploying the `account` component

   This helps keep things moving since quota requests in the reference architecture often exceed default limits and can take time to process.
   :::

</Steps>

For more details, see
[the detailed documentation](/layers/accounts/tutorials/manual-configuration/#provision-account-settings-component).


