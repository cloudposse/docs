---
title: "Preparing Your AWS Organization"
sidebar_label: "Prepare AWS Organization"
sidebar_position: 2
---
import Intro from '@site/src/components/Intro';
import KeyPoints from '@site/src/components/KeyPoints';
import Steps from '@site/src/components/Steps';
import TaskList from '@site/src/components/TaskList';
import ActionCard from '@site/src/components/ActionCard';
import PrimaryCTA from '@site/src/components/PrimaryCTA';

The Cold Start involves more manual steps than other layers. Read through the following steps carefully.

:::tip Cold Start

The set up process for the "baseline" or "account" layer is commonly referred to as the Cold Start.

:::

:::info About Placeholder Values

The reference architecture includes placeholder values that you'll need to replace with your actual configuration. Common placeholders include:

<TaskList>
- **Account IDs** like `111111111111`, `123456789012`, or `000000000000` — Replace with your actual AWS account IDs after creating accounts
- **Underscored values** like `_example_` or `__REPLACE_ME__` — These indicate values that require your input
- **Example domains** like `example.com` or `acme.com` — Replace with your actual domain names
- **Sample ARNs** — Update with ARNs from your environment
</TaskList>

You'll update these values at different points during setup. Each guide will call out when specific replacements are needed.

:::

## Before Running Terraform (ClickOps)

First, you'll need to perform some ClickOps to ensure things are set up before we use Terraform to manage AWS accounts.

From the root account:

<Steps>
1. ### Get Business Class Support
   Enable [business support](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_support.html) in
   the `root` account (in order to expedite requests to raise the AWS member account limits)
1. ### Set up MFA on Root Account
   Set up the Virtual MFA device on the root account following [the AWS documentation](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_enable_virtual.html#enable-virt-mfa-for-root).
   <Steps>
   1. Navigate to the root account's security credentials
   1. Set up a Virtual MFA device
   1. Save the MFA TOTP key in 1Password using 1Password's TOTP field and built-in screen scanner to scan the QR code
   </Steps>
1. ### Create the `SuperAdmin` IAM User
   [Create a `SuperAdmin` IAM User](/layers/accounts/tutorials/how-to-create-superadmin-user/). This break-glass user is used during cold start bootstrapping before IAM Identity Center is provisioned. After cold start, it should only be used if your IdP is completely unavailable—otherwise, use Permission Sets.
   <Steps>
   1. Create the IAM user (do not enable "console login")
   1. Set up MFA for the user
   1. Create a single Access Key
   1. Store credentials in 1Password: Access Key ID, Secret Access Key, Assigned MFA device ARN, and TOTP key
   </Steps>
1. ### Configure Atmos Auth for SuperAdmin
   Configure the `superadmin` profile to authenticate via Atmos during cold start. This allows you to run Atmos commands to deploy the foundation.
   <Steps>
   1. Set the `ATMOS_PROFILE` environment variable:
      ```bash
      export ATMOS_PROFILE=superadmin
      ```
   1. Create a `.env` file in your project root with the SuperAdmin credentials from 1Password:
      ```bash
      # .env (do NOT commit this file)
      AWS_ACCESS_KEY_ID=<your-access-key-id>
      AWS_SECRET_ACCESS_KEY=<your-secret-access-key>
      AWS_MFA_SERIAL=arn:aws:iam::<root-account-id>:mfa/SuperAdmin
      ```
   1. Test the connection by running:
      ```bash
      atmos auth login
      ```
   1. Verify you can access the root account:
      ```bash
      aws sts get-caller-identity
      ```
   </Steps>
   :::tip Atmos Profile Persistence
   Add `export ATMOS_PROFILE=superadmin` to your shell configuration (`~/.zshrc` or `~/.bashrc`) to persist the setting across terminal sessions during cold start.

   After cold start is complete and Identity Center is configured, you'll switch to a different profile (e.g., `devops` or `managers`) as described in [Configure Atmos Auth](/layers/identity/atmos-auth/).
   :::
1. ### Enable IAM Access for Billing
   For billing users, you need to enable IAM access to billing information.
   <Steps>
   1. As the root user, open [AWS Billing Account Settings](https://us-east-1.console.aws.amazon.com/billing/home?region=us-east-1#/Account)
   1. Scroll to "IAM user and role access to Billing information"
   1. Enable IAM access
   </Steps>
1. ### Enable Centralized Root Access
   Enable centralized root access management to eliminate the need for per-account root credentials. This allows the management account to perform privileged root operations on member accounts without maintaining separate root passwords or MFA devices.
   <Steps>
   1. Navigate to [IAM → Root access management](https://console.aws.amazon.com/iam/home#/root-access-management)
   1. Enable **Root credentials management**
   1. Enable **Privileged root actions**
   </Steps>
   For more details, see [Centralized Root Access](/layers/identity/centralized-root-access/).
1. ### Enable Regions (Optional)
   The 17 original AWS regions are enabled by default. If you are using a region that is not enabled by default (such as Middle East/Bahrain), you need to [enable it in your AWS account settings](https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-regions.html).
1. ### Prepare for Account Quota Increase
   In order to deploy all accounts, you need to request an increase of the Account Quota from AWS support. This requires an AWS Organization to be created first, which we will create with Terraform in the [Deploy Accounts guide](/layers/accounts/deploy-accounts/#-prepare-account-deployment). This request can take a few days to process, so it's important to get it started early so that it doesn't become a blocker.

   At this time we don't need to request the increase, but we should be prepared to do so as soon as the AWS Organization is created.

</Steps>

<ActionCard title="Next Steps">
  Now that your AWS Organization is prepared with MFA, SuperAdmin credentials, and billing access configured,
  you're ready to initialize the Terraform state backend that will store all infrastructure state.
  <PrimaryCTA to="/layers/accounts/initialize-tfstate">Initialize Terraform Backend</PrimaryCTA>
</ActionCard>
