---
title: "Centralized Terraform Access"
sidebar_position: 00
custom_edit_url: https://github.com/cloudposse/refarch-scaffold/blob/main/docs/docs/fundamentals/iam-identity.md
---

# Centralized access management for Terraform

<img src="https://lucid.app/publicSegments/view/1eac6776-c23f-4b1f-8aec-c7f540470746/image.png" style={{width: '100%', minHeight: '480', height: 'auto', margin: '10', position: 'relative'}}/><br/>

The following components are designed to provision all primary user and system
roles into a centralized identity account. These components are expected to
be used together to provide fine-grained role delegation across the account
hierarchy.

### AWS Teams

The `aws-teams` component creates AWS Teams in the Identity account. The **Team** is
the entry point for a group of users, and the Identity account acts as an "Identity Hub"
for centralized role assumption management across all delegated accounts. Those roles are
then assumed by the team members after they login to their identity provider (AWS SSO or AWS SAML).

### AWS Team Roles

The `aws-team-roles` component defines common IAM Roles in all accounts, as well
as defines the AWS Team(s) able to assume the role in any account.

These roles should be identical in all accounts, such that you can always expect
`admin` to be `admin`, `poweruser` to be `poweruser`, and `observer` to be
`observer`. The only difference between accounts is which AWS Team is able to
assume the role.

### AWS IAM Identity Center (SSO)

The `aws-sso` component connects AWS IAM Identity Center (Successor to AWS Single
Sign-On) Groups to Permission Sets. Permission Sets grant access to `aws-teams` in
the Identity account or (optional) access to an individual account for convenience.

Permission Sets other than the Identity Team Access Permission Set are used only for
console and cli access to a single account. These are redundant with AWS Team Roles
but are useful for quickly accessing a given account with limited permission.

### AWS SAML

The `aws-saml` component provides SAML access for Admin users to connect to
the Identity account admin role `aws-teams` without AWS IAM Identity
Center (Successor to AWS Single Sign-On).

This component creates an Identity Provider (IdP) in the Identity account
to allow federated access to an identity role. Follow the Identity Providers
documentation for adding a SAML login.