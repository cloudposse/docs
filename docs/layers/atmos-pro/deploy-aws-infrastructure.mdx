---
title: "Deploy AWS Infrastructure"
sidebar_label: "Deploy AWS Infrastructure"
sidebar_position: 3
---
import Intro from '@site/src/components/Intro';
import KeyPoints from '@site/src/components/KeyPoints';
import Steps from '@site/src/components/Steps';
import Step from '@site/src/components/Step';
import StepNumber from '@site/src/components/StepNumber';
import TaskList from '@site/src/components/TaskList';
import Admonition from '@theme/Admonition';

<Intro>
  The second step in setting up Atmos Pro is deploying the required AWS infrastructure. This guide will walk you through deploying the CloudFormation template and verifying the resources.
</Intro>

## Deployment Steps

<Steps>
  <Step>
    ### <StepNumber/> Configure Terraform State Backend

    <TaskList>
      - Visit [atmos-pro.com](https://www.atmos-pro.com)
      - Navigate to the Downloads section
      - Download the latest CloudFormation template
      - Deploy the template to configure your Terraform state backend
    </TaskList>

    <Admonition type="info" title="Template Version">
      Make sure to download the latest version of the template to ensure you have the most recent features and security updates.
    </Admonition>
  </Step>

  <Step>
    ### <StepNumber/> Deploy GitHub OIDC Provider and Roles

    <TaskList>
      - Open the AWS CloudFormation console
      - Click "Create stack" > "With new resources"
      - Upload the template file
      - Configure the following parameters:
        - Stack name (e.g., `atmos-pro-infrastructure`)
        - GitHub OIDC provider configuration
        - IAM role names for role assumption
    </TaskList>

    <Admonition type="warning" title="AWS Requirements">
      You need AWS administrator access to deploy the template. The template will create resources in the account where it's deployed.
    </Admonition>
  </Step>

  <Step>
    ### <StepNumber/> Deploy S3 and DynamoDB Resources

    <TaskList>
      - Deploy the S3 bucket for storing Terraform planfiles
      - Deploy the DynamoDB table for tracking deployments
      - Verify all resources are created successfully
      - Test the GitHub OIDC connection
    </TaskList>
  </Step>
</Steps>

## Resource Details

<Steps>
  <Step>
    ### <StepNumber/> S3 Bucket

    The S3 bucket is used to store:
    - Terraform plan files
    - State files
    - Deployment artifacts
    - Logs and audit trails
  </Step>

  <Step>
    ### <StepNumber/> DynamoDB Table

    The DynamoDB table tracks:
    - Deployment history
    - Plan status
    - Resource changes
    - Audit information
  </Step>

  <Step>
    ### <StepNumber/> IAM Roles

    The following roles are created:
    - GitHub OIDC role for authentication
    - Terraform execution role
    - Plan generation role
    - Drift detection role
  </Step>
</Steps>

## Next Steps

After deploying the AWS infrastructure, proceed to [Set Up Workflows](/layers/atmos-pro/setup-workflows) to configure your repository's automation.

<KeyPoints title="Tips">
  1. Use a dedicated AWS account for Atmos Pro infrastructure
  2. Enable versioning on the S3 bucket for plan history
  3. Set up CloudTrail for audit logging
  4. Consider using AWS Organizations for multi-account setups
</KeyPoints>