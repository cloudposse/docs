---
title: "Decide on Primary AWS Region"
sidebar_label: "Primary AWS Region"
refarch_id: REFARCH-56
description: Pick the primary AWS region to use for the company
tags:
  - design-decision
---

import Intro from "@site/src/components/Intro";
import KeyPoints from "@site/src/components/KeyPoints";

While the company might operate in multiple regions, one region should be selected as the primary region. There are
certain resources that will not be geographically distributed and these should be provisioned in this default region.

When starting from scratch with a new AWS account, it's a good time to revisit decisions that might have been made
decades ago. There are many new AWS regions that might be better suited for the business.

### Customer Proximity

One good option is picking a default region that is closest to the where the majority of end-users reside.

### Business Headquarters

One good option is picking a default region that is closest to where the majority of business operations take place.
This is especially true if most of the services in the default region will be consumed by the business itself.

### Stability

When operating on AWS, selecting a region other than `us-east-1` is advisable as this is the default region (or used to
be) for most AWS users. It has historically had the most service interruptions presumably because it is one of the most
heavily-used regions and operates at a scale much larger than other AWS regions. Therefore we advise using `us-east-2`
over `us-east-1` and the latencies between these regions is very minimal.

### High Availability / Availability Zones

Not all AWS regions support the same number of availability zones.
[Many regions only offer (2) availability zones](https://howto.lintel.in/list-of-aws-regions-and-availability-zones/)
when a minimum of (3) is recommended when operating kubernetes to avoid "split-brain" problems.

### Cost

Not all regions cost the same to operate.

### Service Availability

Not all regions offer the full suite of AWS services or receive new services at the same rate as others. Other times,
certain regions receive platform infrastructure updates slower than others. Also, recently AWS launched
[Local Zones](https://aws.amazon.com/about-aws/global-infrastructure/regions_az/#AWS_Local_Zones) (e.g.
`us-west-2-lax-1a`) which operate a subset of AWS services.

See [AWS Regional Services List](https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/) for
a complete breakdown of service availability by region.

### Reference Architecture Component Availability

Beyond standard AWS services, certain components in the reference architecture have their own regional constraints that
should factor into your primary region decision.

#### RunsOn (Self-Hosted GitHub Runners)

[RunsOn](/layers/github-actions/runs-on/) is our recommended solution for self-hosted GitHub runners. It relies on
[AWS App Runner](https://aws.amazon.com/apprunner/), which is only available in a subset of AWS regions:

- `us-east-1`, `us-east-2`, `us-west-2`
- `eu-central-1`, `eu-west-1`, `eu-west-2`, `eu-west-3`
- `ap-south-1`, `ap-southeast-1`, `ap-southeast-2`, `ap-northeast-1`

Notably, **`us-west-1` does not support App Runner**, and therefore RunsOn cannot be deployed there directly.

If your primary region doesn't support App Runner, you have two options:

1. **Deploy RunsOn in a supported region** and connect it to your primary region via Transit Gateway with a cross-region
   peering connection. This adds approximately **$80/month** in Transit Gateway cross-region data transfer costs.

2. **Use an alternative self-hosted runner solution** such as
   [Actions Runner Controller (ARC)](/layers/github-actions/tutorials/eks-github-actions-controller/) which runs on EKS
   and doesn't have the same regional constraints.

For most deployments, we recommend choosing a primary region that supports App Runner to avoid the additional
complexity and cost of cross-region connectivity.

### Instance Types

Not all instance types are available in all regions

### Latency

Latency between v1 infrastructure and v2 infrastructure could be a factor. See
[cloudping.co/grid](https://www.cloudping.co/grid) for more information.

### References

- [https://www.geekwire.com/2017/analysis-rethinking-cloud-architecture-outage-amazon-web-services/](https://www.geekwire.com/2017/analysis-rethinking-cloud-architecture-outage-amazon-web-services/)
- [https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/](https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/)
- [https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/](https://www.concurrencylabs.com/blog/choose-your-aws-region-wisely/)
